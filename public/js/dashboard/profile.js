"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[378],{1831:(t,s,e)=>{e.r(s),e.d(s,{default:()=>r});const a={data:function(){return{form:new Form({name:"",email:"",phone:"",photo:""}),pForm:new Form({current_password:"",password:"",password_confirmation:""})}},methods:{updateProfile:function(){var t=this;this.form.post("/api/update-profile").then((function(s){t.form.photo="",t.$store.dispatch("user/refreshCurrentUser",s.data),t.$refs.imageUpload.previewClear(),Toast.fire({icon:"success",title:"Profile successfully Updated."})}))},updatePassword:function(){var t=this;this.pForm.post("/api/update-password").then((function(){t.pForm.reset(),Toast.fire({icon:"success",title:"Password successfully Updated."})})).catch((function(t){400===t.response.status&&Swal.fire({icon:"error",title:"Oops...",text:t.response.data.message})}))},fillProfileForm:function(){this.form.fill({name:this.userDetails.name,email:this.userDetails.email,phone:this.userDetails.phone})}},computed:{userDetails:function(){return this.$store.getters["user/getUser"]},roles:function(){return this.$store.getters["user/getRoles"]}},created:function(){this.fillProfileForm()}};const r=(0,e(1900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card card-primary card-outline"},[e("div",{staticClass:"card-body box-profile"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"profile-user-img img-fluid img-circle",attrs:{src:t.userDetails.photo,alt:"User profile picture"}})]),t._v(" "),e("h3",{staticClass:"profile-username text-center"},[t._v(t._s(t.userDetails.name))]),t._v(" "),t.roles.length?e("p",{staticClass:"text-muted text-center"},[t._v(" "+t._s(t._f("upperText")(t._f("removeDash")(t.roles[0]))))]):t._e(),t._v(" "),e("ul",{staticClass:"list-group list-group-unbordered mb-3"},[e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(t.$t("name"))+":")]),t._v(" "),e("a",{staticClass:"float-right"},[t._v(t._s(t.userDetails.name))])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(t.$t("email"))+":")]),t._v(" "),e("a",{staticClass:"float-right"},[t._v(t._s(t.userDetails.email))])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(t.$t("Phone"))+":")]),t._v(" "),e("a",{staticClass:"float-right"},[t._v(t._s(t.userDetails.phone))])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(t.$t("Role"))+":")]),t._v(" "),e("a",{staticClass:"float-right"},[t._v(t._s(t.roles.length?t.roles[0]:"N/A"))])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(t.$t("RegisterAt"))+":")]),t._v(" "),e("a",{staticClass:"float-right"},[t._v(t._s(t._f("date")(t.userDetails.created_at)))])])])])])]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"card card-primary card-outline"},[e("div",{staticClass:"card-header p-2"},[e("ul",{staticClass:"nav nav-pills nav-justified"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{href:"#profile","data-toggle":"tab"}},[t._v(t._s(t.$t("UpdateProfile")))])]),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#password","data-toggle":"tab"}},[t._v(t._s(t.$t("UpdatePassword")))])])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active",attrs:{id:"profile"}},[e("form",{staticClass:"form-horizontal",attrs:{enctype:"multipart"},on:{submit:function(s){return s.preventDefault(),t.updateProfile.apply(null,arguments)},keydown:function(s){return t.form.onKeydown(s)}}},[e("div",{staticClass:"form-row"},[e("form-group-input",{attrs:{form:t.form,col:"col-12",name:"name",label:t.$t("Name")},model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}}),t._v(" "),e("form-group-input",{attrs:{type:"email",form:t.form,col:"col-12",name:"email",label:t.$t("Email")},model:{value:t.form.email,callback:function(s){t.$set(t.form,"email",s)},expression:"form.email"}}),t._v(" "),e("form-group-input",{attrs:{type:"text",form:t.form,col:"col-12",name:"phone",label:t.$t("Phone")},model:{value:t.form.phone,callback:function(s){t.$set(t.form,"phone",s)},expression:"form.phone"}}),t._v(" "),e("form-group-image",{ref:"imageUpload",attrs:{form:t.form,size:"200",col:"col-12",name:"photo",label:t.$t("Image")},model:{value:t.form.photo,callback:function(s){t.$set(t.form,"photo",s)},expression:"form.photo"}})],1),t._v(" "),e("v-button",{attrs:{type:"success",loading:t.form.busy}},[t._v(t._s(t.$t("Update")))])],1)]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{id:"password"}},[e("form",{staticClass:"form-horizontal",on:{submit:function(s){return s.preventDefault(),t.updatePassword.apply(null,arguments)},keydown:function(s){return t.form.onKeydown(s)}}},[e("div",{staticClass:"form-row"},[e("form-group-input",{attrs:{type:"password",form:t.pForm,col:"col-12",name:"current_password",label:t.$t("CurrentPassword")},model:{value:t.pForm.current_password,callback:function(s){t.$set(t.pForm,"current_password",s)},expression:"pForm.current_password"}}),t._v(" "),e("form-group-input",{attrs:{type:"password",form:t.pForm,col:"col-12",name:"password",label:t.$t("NewPassword")},model:{value:t.pForm.password,callback:function(s){t.$set(t.pForm,"password",s)},expression:"pForm.password"}}),t._v(" "),e("form-group-input",{attrs:{type:"password",form:t.pForm,col:"col-12",name:"password_confirmation",label:t.$t("ConfirmPassword")},model:{value:t.pForm.password_confirmation,callback:function(s){t.$set(t.pForm,"password_confirmation",s)},expression:"pForm.password_confirmation"}})],1),t._v(" "),e("v-button",{attrs:{type:"success",loading:t.pForm.busy}},[t._v(t._s(t.$t("Update")))])],1)])])])])])])}),[],!1,null,"092f64d4",null).exports}}]);